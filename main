#include <iostream>
#include <stdlib.h>
#include<conio.h>

using namespace std;
int main(int argc, char** argv) {
	
	int destination;
	int x = 1;
	int y = 1;
	int height;
	int width;
	bool diffNotDeclared = true;
	char key_press;
	string again;
	string diff;
	
	//poziomy trudnosci
	
	do
	{
		cout<<"easy/medium/hard\n";
		cin>>diff;
		system("CLS");
		
		if(diff=="easy")
		{
			height = 5;
			width = 5;
			diffNotDeclared = false;
		}
		else if(diff=="medium")
		{
			height = 9;
			width = 9;
			diffNotDeclared = false;
		}
		else if(diff=="hard")
		{
			height = 15;
			width = 15;
			diffNotDeclared = false;
		}
		
	}while(diffNotDeclared==true);
	
	system("CLS");
	
    char board[width][height];
    
	//szkic planszy	
	for(int i = 0; i < height; i++) 
	{
		for(int j = 0; j < width; j++)
		{
		board[i][j] = 'X';
		board[1][1] = 'O';
		cout<<board[i][j];
		}		  
		cout<<"\n";	
	}
	
	//infinite loop poruszania	
	while(0==0)
	{
		cout<<"(w/s/a/d)\n";
		key_press=getch();
		destination = key_press;
		
		
		//system poruszania			
			if(destination==97) //w lewo
			{
				board[y][x] = 'X';
				x-=1;
				board[y][x] = 'O';
			}
			else if(destination==100) //w prawo
			{
				board[y][x] = 'X';
				x+=1;
				board[y][x] = 'O';
			}
			else if(destination==119) //w gore
			{
				board[y][x] = 'X';
				y-=1;
				board[y][x] = 'O';
			}
			else if(destination==115) //w dol
			{
				board[y][x] = 'X';
				y+=1;
				board[y][x] = 'O';
			}
	
		//border check
		if(x>width-1)
		{
			board[y][x] = 'X';
			x--;
			board[y][x] = 'O';
		}
		else if(x<0)
		{
			board[y][x] = 'X';
			x++;	
			board[y][x] = 'O';
		}
		else if(y>height-1)
		{
			board[y][x] = 'X';
			y--;
			board[y][x] = 'O';
		}
		else if(y<0)
		{
			board[y][x] = 'X';
			y++;
			board[y][x] = 'O';
		}
	
		//aktualizowanie planszy
		
		system ("CLS");
		
		for(int i = 0; i < height; i++) 
		{
			for(int j = 0; j < width; j++)
			{
			cout<<board[i][j];
			}
			  
			cout<<"\n";
		
		}
	}
	
	return 0;
}
